"use strict";(self.webpackChunkmas_playbook=self.webpackChunkmas_playbook||[]).push([[2709],{4146:function(e,t,a){a.r(t),a.d(t,{_frontmatter:function(){return s},default:function(){return c}});var n=a(3366),i=(a(7294),a(4983)),A=a(4295),o=["components"],s={},r={_frontmatter:s},l=A.Z;function c(e){var t=e.components,a=(0,n.Z)(e,o);return(0,i.kt)(l,Object.assign({},r,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h2",null,"Action Launchpoint"),(0,i.kt)("p",null,"We all know about the Maximo Actions framework. Maximo has a built in library of Actions which can be invoked from Workflows,\nEscalations and UI Menu’s and UI Buttons and a slew of other components. More often than not those built in library of Actions are not enough and\nimplementers go out and develop their own custom Actions and of course the language you are forced to use is JAVA. Scripting addresses this concern where\nan Action can be scripted with a scripting language of your choice ","[OOTB – Jython and JavaScript]",". Lets see how we can use a scripted Action to do some\ncalculated meters for Assets. The screenshot below shows how to launch the Action Launchpoint wizard."),(0,i.kt)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1152px"}},"\n      ",(0,i.kt)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"48.26388888888889%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAQBBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHsZSSdQX//xAAXEAADAQAAAAAAAAAAAAAAAAAAAhMg/9oACAEBAAEFApISQkmP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGBAAAwEBAAAAAAAAAAAAAAAAAjKRACD/2gAIAQEABj8CQZkGZBnH/8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQABPyFAgz//2gAMAwEAAgADAAAAEIwP/8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQMBAT8QiP/EABURAQEAAAAAAAAAAAAAAAAAABAR/9oACAECAQE/EKf/xAAcEAABAwUAAAAAAAAAAAAAAAABABEhIDFxkcH/2gAIAQEAAT8QgnXTFi5FBjjo/9k=')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,i.kt)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"Action Launchpoint UI",title:"Action Launchpoint UI",src:"/maximo-app-framework/maximo-autoscript-documentation/static/863df99bd178d95f7848231d1190472c/2e753/actui.jpg",srcSet:["/maximo-app-framework/maximo-autoscript-documentation/static/863df99bd178d95f7848231d1190472c/69549/actui.jpg 288w","/maximo-app-framework/maximo-autoscript-documentation/static/863df99bd178d95f7848231d1190472c/473e3/actui.jpg 576w","/maximo-app-framework/maximo-autoscript-documentation/static/863df99bd178d95f7848231d1190472c/2e753/actui.jpg 1152w","/maximo-app-framework/maximo-autoscript-documentation/static/863df99bd178d95f7848231d1190472c/ee8f5/actui.jpg 1225w"],sizes:"(max-width: 1152px) 100vw, 1152px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n    "),(0,i.kt)("p",null,"As in before lets first study the requirement which is to be able to calculate an\nAsset meter value based on some other meters associated with that Asset. For\nexample lets say we want to calculate the value of the PRESSURE meter based\non the IN-PRESSUR and O-PRESSUR meter such that the last reading of the\nPRESSURE meter is the summation of the IN and O-PRESSUR meters\nreadings. And lets say we choose to do it in an offline fashion where as opposed\nto a real time fashion ","[for which we would have needed to use Object Launch\npoints to trap meter modification events]",". The simplest way to do offline actions\nin a repeated fashion in Maximo is to use Escalations which are nothing but cron\njobs which execute a predefined Action in the context of a Mbo. Now instead of\nwriting the Action java code we will script it up. Shown below are the steps to do\nthis."),(0,i.kt)("p",null,"First we define a relationship called assetmeterip ","[asset meter input pressure]","\nusing the DB-Config application which relates an Asset to the Asset meter\nnamed IN-PRESSUR. The where clause is as below."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sql"},"assetnum=:assetnum and siteid=:siteid and metername='IN-PRESSUR'\n")),(0,i.kt)("p",null,"Similarly we define the other 2 relationships "),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Realtion name"),(0,i.kt)("th",{parentName:"tr",align:"left"},"Relation Where"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"assetmeterop"),(0,i.kt)("td",{parentName:"tr",align:"left"},"assetnum=:assetnum and siteid=:siteid and metername=‘O-PRESSUR’")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"assetmeterp"),(0,i.kt)("td",{parentName:"tr",align:"left"},"assetnum=:assetnum and siteid=:siteid and metername=‘PRESSURE’")))),(0,i.kt)("p",null,"Next we use the Action Launch Point wizard to define the Action Launch Point."),(0,i.kt)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1112px"}},"\n      ",(0,i.kt)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"68.05555555555554%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAOABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAd1uCyQ//8QAGBABAQADAAAAAAAAAAAAAAAAAQIREiD/2gAIAQEAAQUC4p1Jcn//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAWEAEBAQAAAAAAAAAAAAAAAAAAESD/2gAIAQEABj8CxVf/xAAYEAEBAQEBAAAAAAAAAAAAAAAAEYEBMf/aAAgBAQABPyHWuI81UOJX/9oADAMBAAIAAwAAABC4z//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABYRAAMAAAAAAAAAAAAAAAAAAAEQIf/aAAgBAgEBPxAVf//EABsQAAICAwEAAAAAAAAAAAAAAAABETEhUZFh/9oACAEBAAE/EEvfTEX6UuSGhT2xNKKFrsCY0f/Z')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,i.kt)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"Action Launchpoint UI page 1",title:"Action Launchpoint UI page 1",src:"/maximo-app-framework/maximo-autoscript-documentation/static/a5f23e46c36812e7ef24c807d1c0940f/2c0ba/actionlp1.jpg",srcSet:["/maximo-app-framework/maximo-autoscript-documentation/static/a5f23e46c36812e7ef24c807d1c0940f/69549/actionlp1.jpg 288w","/maximo-app-framework/maximo-autoscript-documentation/static/a5f23e46c36812e7ef24c807d1c0940f/473e3/actionlp1.jpg 576w","/maximo-app-framework/maximo-autoscript-documentation/static/a5f23e46c36812e7ef24c807d1c0940f/2c0ba/actionlp1.jpg 1112w"],sizes:"(max-width: 1112px) 100vw, 1112px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n    "),(0,i.kt)("p",null,"Though this wizard would create the Action behind the scene – its the\nresponsibility of the implementer to attach that Action to the escalation, workflow\nor the UI button/menu. By default the launch point name is used as the name of\nthe Action, but you can modify the value to suit your naming convention although its not recommended just because of name confusion and conflicts later on.\nIn the first step of the wizard you would see that the object name is optional, which is in-line with\nthe Maximo Action framework where an Action may or maynot be associated with a Maximo object. In this case however we do want to specify the object as\nAsset as the Action is specific to the Asset Mbo. Since we are defining a new script we will choose the “New Script” option."),(0,i.kt)("p",null,"The next page is the bindings page where we are going to define the variables\nthat we intend to use for the script and their bindings. To do this job all we need\nis the last reading value of the IN-PRESSUR and O-PRESSUR meters and set\nthe calculated value to the new reading attribute of the PRESSURE meter. We\nhowever do not want to set the value if the calculated value is the same as the\nlast reading value of the PRESSURE meter as that would generate meter\nreading history even though the reading never got modified. To check this we\nwould need the last reading value of the PRESSURE meter. So our variable\nbindings will look like below:"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Variable name"),(0,i.kt)("th",{parentName:"tr",align:"left"},"Variable type"),(0,i.kt)("th",{parentName:"tr",align:"left"},"Binding"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"iplr"),(0,i.kt)("td",{parentName:"tr",align:"left"},"IN"),(0,i.kt)("td",{parentName:"tr",align:"left"},"assetmeterip.lastreading")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"olr"),(0,i.kt)("td",{parentName:"tr",align:"left"},"IN"),(0,i.kt)("td",{parentName:"tr",align:"left"},"assetmeterop.lastreading")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"plr"),(0,i.kt)("td",{parentName:"tr",align:"left"},"IN"),(0,i.kt)("td",{parentName:"tr",align:"left"},"assetmeterp.lastreading")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"pnr"),(0,i.kt)("td",{parentName:"tr",align:"left"},"OUT"),(0,i.kt)("td",{parentName:"tr",align:"left"},"assetmeterp.newreading")))),(0,i.kt)("p",null,"The iplr ","[IN-PRESSUR meters last reading]",", olr ","[O-PRESSUR meters last\nreading]"," and plr ","[PRESSURE meters last reading]"," are all of type IN as we just\nneed those values to calculate the pnr ","[PRESSURE meters last reading]",". Note\nthe pnr is of type OUT as we are going to set it back to the PRESSURE meter\nmbo.\nNext page is the script code and it will look as below."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},"y=float(iplr)+float(olr)\nif y!=float(plr):\n  pnr=str(y)\n")),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"if")," check in the 2nd line takes care of not updating the ",(0,i.kt)("inlineCode",{parentName:"p"},"pnr")," value if the calculated value is the same as the ",(0,i.kt)("inlineCode",{parentName:"p"},"plr")," ","[PRESSURE\nmeters last reading]",". Note this calculation was implemented as a mere addition just as an example. In real implementations it can be any complicated\nmathematical calculation as needed for your business case and only limited by the mathematical support provided by the scripting language of your choice.\nNow we are not done yet as we need to associate this Action to an Escalation. Our next step is to create an escalation which will only apply to those Assets\nwhich have all those 3 meters. We use the escalation condition to implement that sifting functionality. The SQL condition for the above case will look like\nbelow."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sql"},"exists (select assetnum from assetmeter where metername='IN-PRESSUR' and\nassetnum=asset.assetnum and siteid=asset.siteid) and exists (select assetnum from assetmeter\nwhere metername='O-PRESSUR' and assetnum=asset.assetnum and siteid=asset.siteid) and\nexists (select assetnum from assetmeter where metername='PRESSURE' and\nassetnum=asset.assetnum and siteid=asset.siteid)\n")),(0,i.kt)("p",null,"Next we select the Action for this escalation – the name of the Action is the same as the launch point name ","[unless you had modified it in the step 1 of the wizard]",".\nAfter we activate the escalation our job is done – the escalation executes the scripted Action for all those Assets with the 3 meters and the modified Asset\nmeter readings are saved and committed by the escalation framework.  "),(0,i.kt)("p",null,"An important thing to note here is if you had chosen to not attach the Action to a Maximo object – the step 2 of the wizard ","[variables and bindings]"," will not let you\nbind a variable to a Mbo attribute. You can however use the literal, system property and maxvar variable binding types. A use case for that might arise when\nyou write a generic Action that say invokes a service ","[like a Web service]"," which is not specific to a Mbo or you intend to do the script code based on direct usage\nof the Mbo apis and hence will not need the mbo attribute bindings."))}c.isMDXComponent=!0},4295:function(e,t,a){a.d(t,{Z:function(){return k}});var n=a(7294),i=a(8650),A=a.n(i),o=a(5444),s=a(6949),r=a(3293),l=a(5900),c=a.n(l),m=function(e){var t,a=e.title,i=e.theme,A=e.tabs,o=void 0===A?[]:A;return n.createElement("div",{className:c()("PageHeader-module--page-header--NqfPe",(t={},t["PageHeader-module--with-tabs--vbQ-W"]=o.length,t["PageHeader-module--dark-mode--WCeH8"]="dark"===i,t))},n.createElement("div",{className:"bx--grid"},n.createElement("div",{className:"bx--row"},n.createElement("div",{className:"bx--col-lg-12"},n.createElement("h1",{id:"page-title",className:"PageHeader-module--text--Er2EO"},a)))))},d=function(e){var t=e.relativePagePath,a=e.repository,i=(0,o.useStaticQuery)("1364590287").site.siteMetadata.repository,A=a||i,s=A.baseUrl,r=A.subDirectory,l=s+"/edit/"+A.branch+r+"/src/pages"+t;return s?n.createElement("div",{className:"bx--row EditLink-module--row--BEmSX"},n.createElement("div",{className:"bx--col"},n.createElement("a",{className:"EditLink-module--link--IDrl1",href:l},"Edit this page on GitHub"))):null},p=a(4275),h=a(1721),u=function(e){function t(){return e.apply(this,arguments)||this}return(0,h.Z)(t,e),t.prototype.render=function(){var e=this.props,t=e.title,a=e.tabs,i=e.slug,s=i.split("/").filter(Boolean).slice(-1)[0],r=a.map((function(e){var t,a=A()(e,{lower:!0,strict:!0}),r=a===s,l=new RegExp(s+"/?(#.*)?$"),m=i.replace(l,a);return n.createElement("li",{key:e,className:c()((t={},t["PageTabs-module--selected-item--aBB0K"]=r,t),"PageTabs-module--list-item--024o6")},n.createElement(o.Link,{className:"PageTabs-module--link--Kz-7R",to:""+m},e))}));return n.createElement("div",{className:"PageTabs-module--tabs-container--Cdfzw"},n.createElement("div",{className:"bx--grid"},n.createElement("div",{className:"bx--row"},n.createElement("div",{className:"bx--col-lg-12 bx--col-no-gutter"},n.createElement("nav",{"aria-label":t},n.createElement("ul",{className:"PageTabs-module--list--xLqxG"},r))))))},t}(n.Component),g=u,f=a(2881),w=a(6958),E=a(36),b=function(e){var t=e.date,a=new Date(t);return t?n.createElement(E.X2,{className:"last-modified-date-module--row--XJoYQ"},n.createElement(E.sg,null,n.createElement("div",{className:"last-modified-date-module--text--ogPQF"},"Page last updated: ",a.toLocaleDateString("en-GB",{day:"2-digit",year:"numeric",month:"long"})))):null},k=function(e){var t=e.pageContext,a=e.children,i=e.location,l=e.Title,c=t.frontmatter,h=void 0===c?{}:c,u=t.relativePagePath,E=t.titleType,k=h.tabs,N=h.title,y=h.theme,B=h.description,x=h.keywords,v=h.date,S=(0,w.Z)().interiorTheme,R=(0,o.useStaticQuery)("2456312558").site.pathPrefix,j=R?i.pathname.replace(R,""):i.pathname,P=k?j.split("/").filter(Boolean).slice(-1)[0]||A()(k[0],{lower:!0}):"",Q=y||S;return n.createElement(r.Z,{tabs:k,homepage:!1,theme:Q,pageTitle:N,pageDescription:B,pageKeywords:x,titleType:E},n.createElement(m,{title:l?n.createElement(l,null):N,label:"label",tabs:k,theme:Q}),k&&n.createElement(g,{title:N,slug:j,tabs:k,currentTab:P}),n.createElement(f.Z,{padded:!0},a,n.createElement(d,{relativePagePath:u}),n.createElement(b,{date:v})),n.createElement(p.Z,{pageContext:t,location:i,slug:j,tabs:k,currentTab:P}),n.createElement(s.Z,null))}}}]);
//# sourceMappingURL=component---src-pages-otherlaunch-actionlaunch-mdx-4a72a3900dfda60a121e.js.map