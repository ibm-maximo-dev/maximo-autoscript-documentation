{"version":3,"file":"component---src-pages-integration-endpointhandler-mdx-4d62e9801bd7908ba80c.js","mappings":"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","sources":["webpack://mas-playbook/./src/pages/integration/endpointhandler.mdx","webpack://mas-playbook/./node_modules/gatsby-theme-carbon/src/components/PageHeader/index.js","webpack://mas-playbook/./node_modules/gatsby-theme-carbon/src/components/PageHeader/PageHeader.js","webpack://mas-playbook/./node_modules/gatsby-theme-carbon/src/components/PageHeader/PageHeader.module.scss","webpack://mas-playbook/./node_modules/gatsby-theme-carbon/src/components/EditLink/index.js","webpack://mas-playbook/./node_modules/gatsby-theme-carbon/src/components/EditLink/EditLink.js","webpack://mas-playbook/./node_modules/gatsby-theme-carbon/src/components/EditLink/EditLink.module.scss","webpack://mas-playbook/./node_modules/gatsby-theme-carbon/src/components/PageTabs/PageTabs.js","webpack://mas-playbook/./node_modules/gatsby-theme-carbon/src/components/PageTabs/PageTabs.module.scss","webpack://mas-playbook/./node_modules/gatsby-theme-carbon/src/components/PageTabs/index.js","webpack://mas-playbook/./node_modules/gatsby-theme-carbon/src/components/LastModifiedDate/index.js","webpack://mas-playbook/./node_modules/gatsby-theme-carbon/src/components/LastModifiedDate/LastModifiedDate.js","webpack://mas-playbook/./node_modules/gatsby-theme-carbon/src/components/LastModifiedDate/last-modified-date.module.scss","webpack://mas-playbook/./node_modules/gatsby-theme-carbon/src/templates/Default.js"],"sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/travis/build/maximo-app-framework/maximo-autoscript-documentation/node_modules/gatsby-theme-carbon/src/templates/Default.js\";\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <p>{`We can write MIF endpoint handlers using automation script. For example say we want to write\na handler for sending emails. This is something that is not there out of the box in Maximo. The\nsteps to do for this would be:`}</p>\n    <ol>\n      <li parentName=\"ol\">{`1.Use the Add/Modify handlers action from the endpoint application to add a new handler. We are going to name it SCRIPT and we are going to set the class name to be com.ibm.tivoli.maximo.script.ScriptRouterHandler. Note that this handler is there OOTB in any maximo 7612 onwards.`}</li>\n      <li parentName=\"ol\">{`2.We are now going to create a new endpoint for that handler Endpoints app.`}</li>\n      <li parentName=\"ol\">{`3.We set the handler to be SCRIPT.`}</li>\n      <li parentName=\"ol\">{`4.We need to set the “script” property to the name of the script that we are going to write. For example say we name the script “emailme”.`}</li>\n      <li parentName=\"ol\">{`5.We now got to create a script named “emailme”.`}</li>\n    </ol>\n    <p>{`Below table shows the implicit variables specific to these endpoint scripts.`}</p>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`Variable`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`Purpose`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`requestData`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`byte[] data for endpoints.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`requestDataS`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`String data for endpoints. Note if the byte[] cannot be converted to String - this variable is not set`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`responseData`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`This is a OUT implicit variable. The endpoint script code can set it to store the response from the actual endpoint call. This can be set as a String or a byte[].`}</td>\n        </tr>\n      </tbody>\n    </table>\n    <p>{`All endpoint `}<inlineCode parentName=\"p\">{`metaData`}</inlineCode>{` content is set as variables to the script. This would imply that in case of Publish Channel endpoints - all JMS/Kafka messages headers will be set as variables in the script.\nThis would imply that variables like `}<inlineCode parentName=\"p\">{`destination`}</inlineCode>{` would be available and set to the external system name for that endpoint script. `}</p>\n    <p>{`The script code can be as simple as`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-python\"\n      }}>{`from psdi.server import MXServer\nfrom java.lang import String\n\nMXServer.getMXServer().sendEMail( to,from,subject, String(requestData))\n`}</code></pre>\n    <p>{`Note in here, we can define the from and to as literal variables in the script and then set the\nemail addresses there. We can also define another literal variable called subject to define a\nstatic subject for the email like “Email from Maximo”. We can make it more dynamic and fancy\nby getting the `}<inlineCode parentName=\"p\">{`to`}</inlineCode>{` email from the data etc.`}</p>\n    <p>{`Another example below show cases how to write a custom web service handler that uses WS-Security UserNameToken -\nwhich is not supported out of the box in MIF WebService Handler. The script code below leverages the JAXWSClient utility to set WS-Security UserNameToken.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-python\"\n      }}>{`from org.jdom import Element\nfrom org.jdom import Namespace\nfrom psdi.iface.webservices import JAXWSClient\nfrom java.util import HashMap\nfrom java.util import ArrayList\nfrom psdi.iface.util import XMLUtils\nfrom javax.xml.namespace import QName\n\nns = \"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\"\n\nsecQName = QName(ns, \"Security\")\nsec = Element(\"Security\",ns)\n\nwsu = Namespace.getNamespace(\"wsu\",\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\")\nsec.addNamespaceDeclaration(wsu)\nunt = Element(\"UsernameToken\", ns)\nsec.addContent(unt)\nunt.setAttribute(\"Id\", \"UsernameToken-61F4CA1CC16641CEA914170628622665\", wsu)\nun = Element(\"Username\", ns)\nun.setText(\"testusermaximo\")\nunt.addContent(un)\n        \npwd = Element(\"Password\", ns)\nunt.addContent(pwd)\npwd.setAttribute(\"Type\",\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText\")\npwd.setText(\"WinterTime15\")\ncl = JAXWSClient()\n\nlist = ArrayList()\nlist.add(XMLUtils.convertElementToString(sec))\nsoapHeaders = HashMap()\nsoapHeaders.put(secQName, list)\n\nlist = ArrayList()\nlist.add(\"d2lsc29uOndpbHNvbg==\")\nhttpHeaders = HashMap()\nhttpHeaders.put(\"maxauth\", list)\n\n\nresponseData = cl.invoke(requestData, \"test\", \"http://host:port/meaweb/services/SYSTEM\", \"urn:action\", \"SOAP11\", None, None, None, httpHeaders, 10000, 10000, soapHeaders, None)\n`}</code></pre>\n    <p>{`As apparent from above, the code leverages the jdom library that ships with Maximo Manage to create the security header.\nThe script code above hard codes the user/password, but that can be script literal variables.\nSame goes with the urls to invoke (like in this case /meaweb/services/SYSTEM) and other input parameters to the cl.invoke(..) call.\nThe code shows how to add the soap headers as well as http headers as an example.`}</p>\n    <h2>{`HTTP Handler Exit`}</h2>\n    <p>{`HTTP handler provides an exit that can be leveraged to intercept and modify the request and response.\nThe HTTPEXIT property of the handler endpoint can be set to a value like script:{script name} to register a scripted exit for the http endpoint.\nBelow we provide the set of callback functions that such a script will support.`}</p>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`Script Http Handler Exit methods`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`Purpose`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`urlProps(req)`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`Used for adding query params to a configured url. The req object is the implemented by `}<inlineCode parentName=\"td\">{`psdi.iface.router. ScriptHTTPReq`}</inlineCode>{`. Use the api `}<inlineCode parentName=\"td\">{`req.addUrlProp(propname,propvalue)`}</inlineCode>{` to set the URL query parameters.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`getUrl(req)`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`Used for setting the url for http call. Use the api `}<inlineCode parentName=\"td\">{`req.setUrl(url)`}</inlineCode>{` to set the new URL.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`headerProps(req)`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`Used for setting request headers for the http call. Use the api `}<inlineCode parentName=\"td\">{`req.addHeader(propname,propvalue)`}</inlineCode>{` to set the http request headers.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`processResponse(resp)`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`Used for processing http response. The resp object is implemented by `}<inlineCode parentName=\"td\">{`psdi.iface.router.ScriptHTTPResp`}</inlineCode>{`. Use the api resp.setError(java.util.Exception) to mark the response for Error and the Error message. We can use the resp.getData() to get the response data and analyze that in the script.`}</td>\n        </tr>\n      </tbody>\n    </table>\n    <h3>{`ScriptHTTPReq details`}</h3>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`ScriptHTTPReq methods`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`Purpose`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`getData()`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`Used to get byte[] data that has been passed to the endpoint.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`getSData()`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`Used to get String data that has been passed to the endpoint.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`getMetaData()`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`used for getting the metadata `}<inlineCode parentName=\"td\">{`java.util.Map`}</inlineCode>{` object that was passed in to the endpoint. This contains some of the jms/kafka message headers.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`getEndPointName())`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`Used for getting the endpoint name (string).`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`setURL(String url)`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`sets the url to be called. This override the url if that is set in the endpoint configuration`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`getURL()`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`return the url (string) to be invoked.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`addHeader(String name, String value)`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`add an http header/value pair to the request.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`getHeaderProps()`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`get the http header/value `}<inlineCode parentName=\"td\">{`java.util.Map`}</inlineCode>{` for the request.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`addUrlProp(String name, String value)`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`add an http url query param/value pair to the request.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`getUrlProps()`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`get the http query param/value `}<inlineCode parentName=\"td\">{`java.util.Map`}</inlineCode>{` for the request.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`addFormProp(String name, String value)`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`add an http form param/value pair to the request.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`getFormProps()`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`get the http form param/value `}<inlineCode parentName=\"td\">{`java.util.Map`}</inlineCode>{` for the request.`}</td>\n        </tr>\n      </tbody>\n    </table>\n    <h3>{`ScriptHTTPResp details`}</h3>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`ScriptHTTPResp methods`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`Purpose`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`getData()`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`Used to get byte[] data response.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`getMetaData()`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`used for getting the metadata `}<inlineCode parentName=\"td\">{`java.util.Map`}</inlineCode>{` object that was passed in to the endpoint. This contains some of the jms/kafka message headers.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`getEndPointName)`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`Used for getting the endpoint name (string).`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`geResponseMsg()`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`returns the response status message from the http call`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`getResponseCode()`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`return the http response code.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`setError(Exception e)`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`sets the error ( `}<inlineCode parentName=\"td\">{`java.lang.Exception instance`}</inlineCode>{`) by analyzing the http response.`}</td>\n        </tr>\n      </tbody>\n    </table>\n    <h2>{`Web Service Handler Exit`}</h2>\n    <p>{`Similar to HTTP Handler, Web Service handler also provides an exit that can be leveraged to intercept and modify the SOAP request and response.\nThe WSEXIT property of the handler endpoint can be set to a value like script:{script name} to register a scripted exit for the web service endpoint.\nBelow we provide the set of callback functions that such a script will support.`}</p>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`Script Web Service Handler Exit methods`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`Purpose`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`responseOk(resp)`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`Used for analyzing an good response from the external web service. The resp object is implemented by the `}<inlineCode parentName=\"td\">{`psdi.iface.router.ScriptSOAPResp`}</inlineCode>{` object. This can be leveraged to either do some processing with the response or set an error`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`responseError(resp)`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`Used for analyzing (and taking action if needed) an error response from the external web service. The resp object is implemented by the `}<inlineCode parentName=\"td\">{`psdi.iface.router.ScriptSOAPResp`}</inlineCode>{` object.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`setupHeaders(req)`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`Used for setting request soap headers for the soap call. The req object is implemented by the `}<inlineCode parentName=\"td\">{`psdi.iface.router.ScriptSOAPReq`}</inlineCode>{` object.`}</td>\n        </tr>\n      </tbody>\n    </table>\n    <h3>{`ScriptSOAPReq details`}</h3>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`ScriptSOAPReq methods`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`Purpose`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`getData()`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`Used to get byte[] data that has been passed to the endpoint.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`getMetaData()`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`used for getting the metadata `}<inlineCode parentName=\"td\">{`java.util.Map`}</inlineCode>{` object that was passed in to the endpoint. This contains some of the jms/kafka message headers.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`getEndPointName())`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`Used for getting the endpoint name (string).`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`setURL(String url)`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`sets the url to be called. This override the url if that is set in the endpoint configuration`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`getURL()`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`return the url (string) to be invoked.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`addHeader(String ns, String name, String value)`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`add s soap header/value pair to the request. `}<inlineCode parentName=\"td\">{`ns`}</inlineCode>{` specifies the namespace for the header element. An example below shows the usage.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`getHeaderProps()`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`get the soap header/value `}<inlineCode parentName=\"td\">{`Map<QName,List<String>>`}</inlineCode>{` for the request.`}</td>\n        </tr>\n      </tbody>\n    </table>\n    <h3>{`ScriptSOAPResp details`}</h3>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`ScriptSOAPResp methods`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`Purpose`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`getData()`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`Used to get byte[] data response.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`getMetaData()`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`used for getting the metadata `}<inlineCode parentName=\"td\">{`java.util.Map`}</inlineCode>{` object that was passed in to the endpoint. This contains some of the jms/kafka message headers.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`getEndPointName)`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`Used for getting the endpoint name (string).`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`setError(Exception e)`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`sets the error ( `}<inlineCode parentName=\"td\">{`java.lang.Exception instance`}</inlineCode>{`) by analyzing the soap response.`}</td>\n        </tr>\n      </tbody>\n    </table>\n    <p>{`A sample code below shows how a WS Security header can be set using the setupHeaders.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-python\"\n      }}>{`from org.jdom import Element\nfrom org.jdom import Namespace\n\nfrom java.util import HashMap\nfrom java.util import ArrayList\nfrom psdi.iface.util import XMLUtils\nfrom javax.xml.namespace import QName\n\ndef setupHeaders(req):\n\n    ns = \"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\"\n\n    secQName = QName(ns, \"Security\")\n    sec = Element(\"Security\",ns)\n\n    wsu = Namespace.getNamespace(\"wsu\",\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\")\n    sec.addNamespaceDeclaration(wsu)\n    unt = Element(\"UsernameToken\", ns)\n    sec.addContent(unt)\n    unt.setAttribute(\"Id\", \"UsernameToken-61F4CA1CC16641CEA914170628622665\", wsu)\n    un = Element(\"Username\", ns)\n    un.setText(\"testusermaximo\")\n    unt.addContent(un)\n            \n    pwd = Element(\"Password\", ns)\n    unt.addContent(pwd)\n    pwd.setAttribute(\"Type\",\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText\")\n    pwd.setText(\"WinterTime15\")\n\n    headerVal = XMLUtils.convertElementToString(sec)\n    req.addHeader(ns, \"Security\", headerVal)\n`}</code></pre>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      ","import PageHeader from './PageHeader';\n\nexport default PageHeader;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport * as styles from './PageHeader.module.scss';\n\nconst PageHeader = ({ title, theme, tabs = [] }) => (\n  <div\n    className={cx(styles.pageHeader, {\n      [styles.withTabs]: tabs.length,\n      [styles.darkMode]: theme === 'dark',\n    })}>\n    <div className=\"bx--grid\">\n      <div className=\"bx--row\">\n        <div className=\"bx--col-lg-12\">\n          <h1 id=\"page-title\" className={styles.text}>\n            {title}\n          </h1>\n        </div>\n      </div>\n    </div>\n  </div>\n);\n\nPageHeader.propTypes = {\n  /**\n   * Specify the title for the page\n   */\n  title: PropTypes.node,\n};\n\nexport default PageHeader;\n","// extracted by mini-css-extract-plugin\nexport var bxTextTruncateEnd = \"PageHeader-module--bx--text-truncate--end--b8JtW\";\nexport var bxTextTruncateFront = \"PageHeader-module--bx--text-truncate--front--WwZFh\";\nexport var pageHeader = \"PageHeader-module--page-header--NqfPe\";\nexport var darkMode = \"PageHeader-module--dark-mode--WCeH8\";\nexport var withTabs = \"PageHeader-module--with-tabs--vbQ-W\";\nexport var text = \"PageHeader-module--text--Er2EO\";","import EditLink from './EditLink';\n\nexport default EditLink;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { graphql, useStaticQuery } from 'gatsby';\n\nimport { link, row } from './EditLink.module.scss';\n\nconst EditLink = ({ relativePagePath, repository: repositoryProp }) => {\n  const {\n    site: {\n      siteMetadata: { repository },\n    },\n  } = useStaticQuery(graphql`\n    query REPOSITORY_QUERY {\n      site {\n        siteMetadata {\n          repository {\n            baseUrl\n            subDirectory\n            branch\n          }\n        }\n      }\n    }\n  `);\n\n  const { baseUrl, subDirectory, branch } = repositoryProp || repository;\n\n  const href = `${baseUrl}/edit/${branch}${subDirectory}/src/pages${relativePagePath}`;\n\n  return baseUrl ? (\n    <div className={`bx--row ${row}`}>\n      <div className=\"bx--col\">\n        <a className={link} href={href}>\n          Edit this page on GitHub\n        </a>\n      </div>\n    </div>\n  ) : null;\n};\n\nEditLink.propTypes = {\n  repository: PropTypes.shape({\n    baseUrl: PropTypes.string,\n    subDirectory: PropTypes.string,\n    branch: PropTypes.string,\n  }),\n  relativePagePath: PropTypes.string,\n};\n\nexport default EditLink;\n","// extracted by mini-css-extract-plugin\nexport var bxTextTruncateEnd = \"EditLink-module--bx--text-truncate--end--uI0cF\";\nexport var bxTextTruncateFront = \"EditLink-module--bx--text-truncate--front--HxjcS\";\nexport var link = \"EditLink-module--link--IDrl1\";\nexport var row = \"EditLink-module--row--BEmSX\";","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'gatsby';\nimport slugify from 'slugify';\nimport cx from 'classnames';\n\nimport {\n  tabsContainer,\n  list,\n  selectedItem,\n  listItem,\n  link,\n} from './PageTabs.module.scss';\n\nexport default class PageTabs extends React.Component {\n  render() {\n    const { title, tabs, slug } = this.props;\n    const currentTab = slug.split('/').filter(Boolean).slice(-1)[0];\n\n    const pageTabs = tabs.map((tab) => {\n      const slugifiedTab = slugify(tab, { lower: true, strict: true });\n      const selected = slugifiedTab === currentTab;\n      // matches with or without trailing slash: /?\n      // matches with or without hash link: (#.*)?\n      const currentTabRegex = new RegExp(`${currentTab}/?(#.*)?$`);\n      const href = slug.replace(currentTabRegex, slugifiedTab);\n      return (\n        <li key={tab} className={cx({ [selectedItem]: selected }, listItem)}>\n          <Link className={link} to={`${href}`}>\n            {tab}\n          </Link>\n        </li>\n      );\n    });\n\n    return (\n      <div className={tabsContainer}>\n        <div className=\"bx--grid\">\n          <div className=\"bx--row\">\n            <div className=\"bx--col-lg-12 bx--col-no-gutter\">\n              <nav aria-label={title}>\n                <ul className={list}>{pageTabs}</ul>\n              </nav>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nPageTabs.propTypes = {\n  tabs: PropTypes.array,\n  slug: PropTypes.string,\n};\n","// extracted by mini-css-extract-plugin\nexport var bxTextTruncateEnd = \"PageTabs-module--bx--text-truncate--end--OC59x\";\nexport var bxTextTruncateFront = \"PageTabs-module--bx--text-truncate--front--5I6-L\";\nexport var tabsContainer = \"PageTabs-module--tabs-container--Cdfzw\";\nexport var list = \"PageTabs-module--list--xLqxG\";\nexport var listItem = \"PageTabs-module--list-item--024o6\";\nexport var link = \"PageTabs-module--link--Kz-7R\";\nexport var selectedItem = \"PageTabs-module--selected-item--aBB0K\";","import PageTabs from './PageTabs';\n\nexport default PageTabs;\n","import LastModifiedDate from './LastModifiedDate';\n\nexport default LastModifiedDate;\n","import React from 'react';\nimport { Row, Column } from '../Grid';\nimport * as styles from './last-modified-date.module.scss';\n\nconst LastModifiedDate = ({ date }) => {\n  const options = {\n    day: '2-digit',\n    year: 'numeric',\n    month: 'long',\n  };\n\n  const lastModified = new Date(date);\n\n  return date ? (\n    <Row className={styles.row}>\n      <Column>\n        <div className={styles.text}>\n          Page last updated: {lastModified.toLocaleDateString('en-GB', options)}\n          {/* // https://www-03preprod.ibm.com/support/knowledgecenter/ibm_style/dates-and-times.html */}\n        </div>\n      </Column>\n    </Row>\n  ) : null;\n};\nexport default LastModifiedDate;\n","// extracted by mini-css-extract-plugin\nexport var bxTextTruncateEnd = \"last-modified-date-module--bx--text-truncate--end--QgCc7\";\nexport var bxTextTruncateFront = \"last-modified-date-module--bx--text-truncate--front--kel8a\";\nexport var text = \"last-modified-date-module--text--ogPQF\";\nexport var row = \"last-modified-date-module--row--XJoYQ\";","import React from 'react';\nimport slugify from 'slugify';\nimport { useStaticQuery, graphql } from 'gatsby';\n\nimport Utils from '../components/Utils';\nimport Layout from '../components/Layout';\nimport PageHeader from '../components/PageHeader';\nimport EditLink from '../components/EditLink';\nimport NextPrevious from '../components/NextPrevious';\nimport PageTabs from '../components/PageTabs';\nimport Main from '../components/Main';\nimport useMetadata from '../util/hooks/useMetadata';\nimport LastModifiedDate from '../components/LastModifiedDate';\n\nconst Default = ({ pageContext, children, location, Title }) => {\n  const { frontmatter = {}, relativePagePath, titleType } = pageContext;\n  const {\n    tabs,\n    title,\n    theme: frontmatterTheme,\n    description,\n    keywords,\n    date,\n  } = frontmatter;\n\n  const { interiorTheme } = useMetadata();\n\n  // get the path prefix if it exists\n  const {\n    site: { pathPrefix },\n  } = useStaticQuery(graphql`\n    query PATH_PREFIX_QUERY {\n      site {\n        pathPrefix\n      }\n    }\n  `);\n\n  // let gatsby handle prefixing\n  const slug = pathPrefix\n    ? location.pathname.replace(pathPrefix, '')\n    : location.pathname;\n\n  const getCurrentTab = () => {\n    if (!tabs) return '';\n    return (\n      slug.split('/').filter(Boolean).slice(-1)[0] ||\n      slugify(tabs[0], { lower: true })\n    );\n  };\n\n  const currentTab = getCurrentTab();\n\n  const theme = frontmatterTheme || interiorTheme;\n\n  return (\n    <Layout\n      tabs={tabs}\n      homepage={false}\n      theme={theme}\n      pageTitle={title}\n      pageDescription={description}\n      pageKeywords={keywords}\n      titleType={titleType}>\n      <PageHeader\n        title={Title ? <Title /> : title}\n        label=\"label\"\n        tabs={tabs}\n        theme={theme}\n      />\n      {tabs && (\n        <PageTabs\n          title={title}\n          slug={slug}\n          tabs={tabs}\n          currentTab={currentTab}\n        />\n      )}\n      <Main padded>\n        {children}\n        <EditLink relativePagePath={relativePagePath} />\n        <LastModifiedDate date={date} />\n      </Main>\n      <NextPrevious\n        pageContext={pageContext}\n        location={location}\n        slug={slug}\n        tabs={tabs}\n        currentTab={currentTab}\n      />\n      <Utils />\n    </Layout>\n  );\n};\n\nexport default Default;\n"],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","isMDXComponent","title","theme","tabs","className","cx","length","id","relativePagePath","repositoryProp","repository","useStaticQuery","site","siteMetadata","baseUrl","subDirectory","href","branch","PageTabs","render","this","slug","currentTab","split","filter","Boolean","slice","pageTabs","map","tab","slugifiedTab","slugify","lower","strict","selected","currentTabRegex","RegExp","replace","key","Link","to","React","date","lastModified","Date","toLocaleDateString","day","year","month","pageContext","children","location","Title","frontmatter","titleType","frontmatterTheme","description","keywords","interiorTheme","useMetadata","pathPrefix","pathname","Layout","homepage","pageTitle","pageDescription","pageKeywords","label","Main","padded","NextPrevious","Utils"],"sourceRoot":""}