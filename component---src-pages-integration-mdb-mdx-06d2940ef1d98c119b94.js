"use strict";(self.webpackChunkmas_playbook=self.webpackChunkmas_playbook||[]).push([[2439],{3669:function(e,t,a){a.r(t),a.d(t,{_frontmatter:function(){return i},default:function(){return c}});var n=a(3366),r=(a(7294),a(4983)),s=a(4295),l=["components"],i={},o={_frontmatter:i},m=s.Z;function c(e){var t=e.components,a=(0,n.Z)(e,l);return(0,r.kt)(m,Object.assign({},o,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Customers often need to add new Message Driven Beans for consuming messages from an external JMS server.\nMaximo scripted MDBs from 7.6.1.3 or 8.8. "),(0,r.kt)("p",null,"To set up MDB with scripting:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Create the following vanilla py script (for example, named as CUSTMDB).")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},'service.log("msg received with id "+str(jmsmsg.getJMSMessageID()))\n')),(0,r.kt)("p",null,"Note that ",(0,r.kt)("inlineCode",{parentName:"p"},"jmsmsg")," refers to the ",(0,r.kt)("inlineCode",{parentName:"p"},"javax.jms.Message")," object representing the message from the JMS queue."),(0,r.kt)("ol",{start:2},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Assume that you are going to consume message from an external continous queue named extcqin. Therefore, you will use the external system EXTSYS1 to import a file. For example, you import an asset with the content.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Modify the mboejb ejb jar xml to add a script MDB using the ejb-jar.xml file. This connects the script to the MDB."))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'    <message-driven id="MessageDriven_JMSContQueueProcessor_3">\n      <ejb-name>JMSScriptListenerBean-1</ejb-name>\n      <ejb-class>psdi.iface.jms.JMSScriptListenerBean</ejb-class>\n      <transaction-type>Container</transaction-type>\n      <message-destination-type>javax.jms.Queue</message-destination-type>\n                  <env-entry>\n            <env-entry-name>SCRIPTNAME</env-entry-name>\n            <env-entry-type>java.lang.String</env-entry-type>\n            <env-entry-value>CUSTMDB</env-entry-value>\n              </env-entry>      \n    </message-driven>\n')),(0,r.kt)("p",null,"Note the ejb class ",(0,r.kt)("inlineCode",{parentName:"p"},"psdi.iface.jms.JMSScriptListenerBean")," and the env entry ",(0,r.kt)("inlineCode",{parentName:"p"},"SCRIPTNAME")," has the name of the script.\nA script on an object structure such as MXITEM, can impact the processing of item data through REST, application Import, Enterprise Service and Invocation/Publish Channel."),(0,r.kt)("ol",{start:4},(0,r.kt)("li",{parentName:"ol"},"Deploy the customization. ")),(0,r.kt)("p",null,"Assuming that the activation spec and queue setup are all done, you should be able to see the log statement appear as you start pushing messages into the queue."))}c.isMDXComponent=!0},4295:function(e,t,a){a.d(t,{Z:function(){return k}});var n=a(7294),r=a(8650),s=a.n(r),l=a(5444),i=a(6949),o=a(3293),m=a(5900),c=a.n(m),u=function(e){var t,a=e.title,r=e.theme,s=e.tabs,l=void 0===s?[]:s;return n.createElement("div",{className:c()("PageHeader-module--page-header--NqfPe",(t={},t["PageHeader-module--with-tabs--vbQ-W"]=l.length,t["PageHeader-module--dark-mode--WCeH8"]="dark"===r,t))},n.createElement("div",{className:"bx--grid"},n.createElement("div",{className:"bx--row"},n.createElement("div",{className:"bx--col-lg-12"},n.createElement("h1",{id:"page-title",className:"PageHeader-module--text--Er2EO"},a)))))},p=function(e){var t=e.relativePagePath,a=e.repository,r=(0,l.useStaticQuery)("1364590287").site.siteMetadata.repository,s=a||r,i=s.baseUrl,o=s.subDirectory,m=i+"/edit/"+s.branch+o+"/src/pages"+t;return i?n.createElement("div",{className:"bx--row EditLink-module--row--BEmSX"},n.createElement("div",{className:"bx--col"},n.createElement("a",{className:"EditLink-module--link--IDrl1",href:m},"Edit this page on GitHub"))):null},d=a(4275),g=a(1721),h=function(e){function t(){return e.apply(this,arguments)||this}return(0,g.Z)(t,e),t.prototype.render=function(){var e=this.props,t=e.title,a=e.tabs,r=e.slug,i=r.split("/").filter(Boolean).slice(-1)[0],o=a.map((function(e){var t,a=s()(e,{lower:!0,strict:!0}),o=a===i,m=new RegExp(i+"/?(#.*)?$"),u=r.replace(m,a);return n.createElement("li",{key:e,className:c()((t={},t["PageTabs-module--selected-item--aBB0K"]=o,t),"PageTabs-module--list-item--024o6")},n.createElement(l.Link,{className:"PageTabs-module--link--Kz-7R",to:""+u},e))}));return n.createElement("div",{className:"PageTabs-module--tabs-container--Cdfzw"},n.createElement("div",{className:"bx--grid"},n.createElement("div",{className:"bx--row"},n.createElement("div",{className:"bx--col-lg-12 bx--col-no-gutter"},n.createElement("nav",{"aria-label":t},n.createElement("ul",{className:"PageTabs-module--list--xLqxG"},o))))))},t}(n.Component),b=h,v=a(2881),f=a(6958),y=a(36),E=function(e){var t=e.date,a=new Date(t);return t?n.createElement(y.X2,{className:"last-modified-date-module--row--XJoYQ"},n.createElement(y.sg,null,n.createElement("div",{className:"last-modified-date-module--text--ogPQF"},"Page last updated: ",a.toLocaleDateString("en-GB",{day:"2-digit",year:"numeric",month:"long"})))):null},k=function(e){var t=e.pageContext,a=e.children,r=e.location,m=e.Title,c=t.frontmatter,g=void 0===c?{}:c,h=t.relativePagePath,y=t.titleType,k=g.tabs,N=g.title,x=g.theme,M=g.description,P=g.keywords,S=g.date,T=(0,f.Z)().interiorTheme,j=(0,l.useStaticQuery)("2456312558").site.pathPrefix,w=j?r.pathname.replace(j,""):r.pathname,C=k?w.split("/").filter(Boolean).slice(-1)[0]||s()(k[0],{lower:!0}):"",D=x||T;return n.createElement(o.Z,{tabs:k,homepage:!1,theme:D,pageTitle:N,pageDescription:M,pageKeywords:P,titleType:y},n.createElement(u,{title:m?n.createElement(m,null):N,label:"label",tabs:k,theme:D}),k&&n.createElement(b,{title:N,slug:w,tabs:k,currentTab:C}),n.createElement(v.Z,{padded:!0},a,n.createElement(p,{relativePagePath:h}),n.createElement(E,{date:S})),n.createElement(d.Z,{pageContext:t,location:r,slug:w,tabs:k,currentTab:C}),n.createElement(i.Z,null))}}}]);
//# sourceMappingURL=component---src-pages-integration-mdb-mdx-06d2940ef1d98c119b94.js.map