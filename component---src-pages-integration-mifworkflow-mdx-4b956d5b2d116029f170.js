"use strict";(self.webpackChunkmas_playbook=self.webpackChunkmas_playbook||[]).push([[2885],{1328:function(e,t,a){a.r(t),a.d(t,{_frontmatter:function(){return i},default:function(){return m}});var n=a(3366),r=(a(7294),a(4983)),o=a(4295),l=["components"],i={},s={_frontmatter:i},c=o.Z;function m(e){var t=e.components,a=(0,n.Z)(e,l);return(0,r.kt)(c,Object.assign({},s,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"This is a common ask - how do I invoke a workflow after my mbo is inserted or updated using\nMIF. The questions comes up often as the current UI framework allows such a feature to\nautomatically invoke workflow on save of the application mbo. Below is a sample python\nexample that does invoke a workflow that will create an assignment when a new workorder is\ncreated using MIF inbound.  "),(0,r.kt)("p",null,"To do this we will write an Object Structure script that will invoke the workflow. We will use the\nnew Integration Scripts action from the Scripting application. Select the options – Object\nStructure -> MXWODETAIL (Object Structure name) ->Inbound Processing."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},'from psdi.server import MXServer\n\ndef afterProcess(ctx):\n  mbo = ctx.getPrimaryMbo()\n  if mbo.isNew():\n    MXServer.getMXServer().lookup("WORKFLOW").initiateWorkflow("WOSTATUS",mbo)\n')),(0,r.kt)("p",null,"Note the use of the ",(0,r.kt)("inlineCode",{parentName:"p"},"ctx")," var – which is same as the global implicit var ",(0,r.kt)("inlineCode",{parentName:"p"},"service")," but with added\nfunctionality for Object Structure processing."),(0,r.kt)("p",null,"A simple way to test this would be to use the REST json api:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"POST http://host:port/maximo/oslc/os/mxwodetail?lean=1\n{\n“wonum”:”MYLABWO11”,\n“siteid”:”BEDFORD”,\n“description”:”Invoke workflow test”\n}\n")),(0,r.kt)("p",null,"Once we POST this json, it will invoke the script and will create an assignment for the logged in\nuser. You can verify that from the start center assignments portlet."),(0,r.kt)("p",null,"If interested, you can now enhance the script to make sure that this workflow initiation is only\ndone for transactions that have the status as WAPPR (you can use the ctx.getPrimaryMbo() to\ncheck that)."))}m.isMDXComponent=!0},4295:function(e,t,a){a.d(t,{Z:function(){return E}});var n=a(7294),r=a(8650),o=a.n(r),l=a(5444),i=a(6949),s=a(3293),c=a(5900),m=a.n(c),u=function(e){var t,a=e.title,r=e.theme,o=e.tabs,l=void 0===o?[]:o;return n.createElement("div",{className:m()("PageHeader-module--page-header--NqfPe",(t={},t["PageHeader-module--with-tabs--vbQ-W"]=l.length,t["PageHeader-module--dark-mode--WCeH8"]="dark"===r,t))},n.createElement("div",{className:"bx--grid"},n.createElement("div",{className:"bx--row"},n.createElement("div",{className:"bx--col-lg-12"},n.createElement("h1",{id:"page-title",className:"PageHeader-module--text--Er2EO"},a)))))},d=function(e){var t=e.relativePagePath,a=e.repository,r=(0,l.useStaticQuery)("1364590287").site.siteMetadata.repository,o=a||r,i=o.baseUrl,s=o.subDirectory,c=i+"/edit/"+o.branch+s+"/src/pages"+t;return i?n.createElement("div",{className:"bx--row EditLink-module--row--BEmSX"},n.createElement("div",{className:"bx--col"},n.createElement("a",{className:"EditLink-module--link--IDrl1",href:c},"Edit this page on GitHub"))):null},p=a(4275),h=a(1721),g=function(e){function t(){return e.apply(this,arguments)||this}return(0,h.Z)(t,e),t.prototype.render=function(){var e=this.props,t=e.title,a=e.tabs,r=e.slug,i=r.split("/").filter(Boolean).slice(-1)[0],s=a.map((function(e){var t,a=o()(e,{lower:!0,strict:!0}),s=a===i,c=new RegExp(i+"/?(#.*)?$"),u=r.replace(c,a);return n.createElement("li",{key:e,className:m()((t={},t["PageTabs-module--selected-item--aBB0K"]=s,t),"PageTabs-module--list-item--024o6")},n.createElement(l.Link,{className:"PageTabs-module--link--Kz-7R",to:""+u},e))}));return n.createElement("div",{className:"PageTabs-module--tabs-container--Cdfzw"},n.createElement("div",{className:"bx--grid"},n.createElement("div",{className:"bx--row"},n.createElement("div",{className:"bx--col-lg-12 bx--col-no-gutter"},n.createElement("nav",{"aria-label":t},n.createElement("ul",{className:"PageTabs-module--list--xLqxG"},s))))))},t}(n.Component),b=g,f=a(2881),w=a(6958),k=a(36),v=function(e){var t=e.date,a=new Date(t);return t?n.createElement(k.X2,{className:"last-modified-date-module--row--XJoYQ"},n.createElement(k.sg,null,n.createElement("div",{className:"last-modified-date-module--text--ogPQF"},"Page last updated: ",a.toLocaleDateString("en-GB",{day:"2-digit",year:"numeric",month:"long"})))):null},E=function(e){var t=e.pageContext,a=e.children,r=e.location,c=e.Title,m=t.frontmatter,h=void 0===m?{}:m,g=t.relativePagePath,k=t.titleType,E=h.tabs,y=h.title,P=h.theme,x=h.description,N=h.keywords,T=h.date,S=(0,w.Z)().interiorTheme,O=(0,l.useStaticQuery)("2456312558").site.pathPrefix,M=O?r.pathname.replace(O,""):r.pathname,C=E?M.split("/").filter(Boolean).slice(-1)[0]||o()(E[0],{lower:!0}):"",D=P||S;return n.createElement(s.Z,{tabs:E,homepage:!1,theme:D,pageTitle:y,pageDescription:x,pageKeywords:N,titleType:k},n.createElement(u,{title:c?n.createElement(c,null):y,label:"label",tabs:E,theme:D}),E&&n.createElement(b,{title:y,slug:M,tabs:E,currentTab:C}),n.createElement(f.Z,{padded:!0},a,n.createElement(d,{relativePagePath:g}),n.createElement(v,{date:T})),n.createElement(p.Z,{pageContext:t,location:r,slug:M,tabs:E,currentTab:C}),n.createElement(i.Z,null))}}}]);
//# sourceMappingURL=component---src-pages-integration-mifworkflow-mdx-4b956d5b2d116029f170.js.map