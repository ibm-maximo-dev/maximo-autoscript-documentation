"use strict";(self.webpackChunkmas_playbook=self.webpackChunkmas_playbook||[]).push([[3100],{2794:function(e,t,a){a.r(t),a.d(t,{_frontmatter:function(){return o},default:function(){return d}});var n=a(3366),r=(a(7294),a(4983)),s=a(4295),i=["components"],o={},l={_frontmatter:o},p=s.Z;function d(e){var t=e.components,a=(0,n.Z)(e,i);return(0,r.kt)(p,Object.assign({},l,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"You can write Maximo Integration Framework (MIF) endpoint handlers using automation scripts. For example, you might want to write\na handler for sending emails, which is something that is not there in Maximo. To write a handler for sending emails:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Use the ",(0,r.kt)("strong",{parentName:"li"},"Add/Modify")," handlers action from the endpoint application to add a new handler. You can  name it “SCRIPT” and you can set the class name to be com.ibm.tivoli.maximo.script.ScriptRouterHandler. ",(0,r.kt)("strong",{parentName:"li"},"Note:")," This handler is there from Maximo 7.6.1.2 onwards."),(0,r.kt)("li",{parentName:"ol"},"Create a new endpoint for that handler Endpoints app."),(0,r.kt)("li",{parentName:"ol"},"Set the handler to be SCRIPT."),(0,r.kt)("li",{parentName:"ol"},"Set the “script” property to the name of the script that you are going to write. For example, you can name the script “emailme”.\nYou have now created a script named “emailme”.")),(0,r.kt)("p",null,"The following table shows the implicit variables specific to these endpoint scripts."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Variable"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Purpose"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"requestData"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Byte[] data for endpoints.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"requestDataS"),(0,r.kt)("td",{parentName:"tr",align:"left"},"String data for endpoints. If the byte[] cannot be converted to String - this variable is not set.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"responseData"),(0,r.kt)("td",{parentName:"tr",align:"left"},"This is an OUT implicit variable. The endpoint script code can set it to store the response from the actual endpoint call. This can be set as a String or a byte[].")))),(0,r.kt)("p",null,"All endpoint ",(0,r.kt)("inlineCode",{parentName:"p"},"metaData")," content is set as variables to the script. This means that in case of Publish Channel endpoints, all JMS/Kafka messages headers are set as variables in the script. Variables like ",(0,r.kt)("inlineCode",{parentName:"p"},"destination")," would be available and set to the external system name for that endpoint script. "),(0,r.kt)("p",null,"It is possible to write the following simple code:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},"from psdi.server import MXServer\nfrom java.lang import String\n\nMXServer.getMXServer().sendEMail( to,from,subject, String(requestData))\n")),(0,r.kt)("p",null,"You can define the from and to as literal variables in the script and then set the\nemail addresses there. You can also define another literal variable called “subject” to define a\nstatic subject for the email like “Email from Maximo”. You can make it more dynamic and fancy\nby getting the ",(0,r.kt)("inlineCode",{parentName:"p"},"to")," email from the data, and set other properties."),(0,r.kt)("p",null,"The following example shows how to write a custom web service handler that uses WS-Security UserNameToken, which is not supported in MIF WebService Handler. The following script code leverages the JAXWSClient utility to set WS-Security UserNameToken."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},'from org.jdom import Element\nfrom org.jdom import Namespace\nfrom psdi.iface.webservices import JAXWSClient\nfrom java.util import HashMap\nfrom java.util import ArrayList\nfrom psdi.iface.util import XMLUtils\nfrom javax.xml.namespace import QName\n\nns = "http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd"\n\nsecQName = QName(ns, "Security")\nsec = Element("Security",ns)\n\nwsu = Namespace.getNamespace("wsu","http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd")\nsec.addNamespaceDeclaration(wsu)\nunt = Element("UsernameToken", ns)\nsec.addContent(unt)\nunt.setAttribute("Id", "UsernameToken-61F4CA1CC16641CEA914170628622665", wsu)\nun = Element("Username", ns)\nun.setText("testusermaximo")\nunt.addContent(un)\n        \npwd = Element("Password", ns)\nunt.addContent(pwd)\npwd.setAttribute("Type","http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText")\npwd.setText("WinterTime15")\ncl = JAXWSClient()\n\nlist = ArrayList()\nlist.add(XMLUtils.convertElementToString(sec))\nsoapHeaders = HashMap()\nsoapHeaders.put(secQName, list)\n\nlist = ArrayList()\nlist.add("d2lsc29uOndpbHNvbg==")\nhttpHeaders = HashMap()\nhttpHeaders.put("maxauth", list)\n\n\nresponseData = cl.invoke(requestData, "test", "http://host:port/meaweb/services/SYSTEM", "urn:action", "SOAP11", None, None, None, httpHeaders, 10000, 10000, soapHeaders, None)\n')),(0,r.kt)("p",null,"The code leverages the jdom library that ships with Maximo Manage to create the security header.\nThe script code hard codes the username and password, but they can be set as script literal variables.\nThis is also applicable with the URLs to invoke, in this case, /meaweb/services/SYSTEM, and other input parameters to the cl.invoke(..) call.\nThe code shows how to add the soap headers as well as HTTP headers as an example."),(0,r.kt)("h2",null,"HTTP Handler Exit"),(0,r.kt)("p",null,"HTTP handler provides an exit that can be leveraged to intercept and modify the request and response.\nThe HTTPEXIT property of the handler endpoint can be set to a value like script:{script name} to register a scripted exit for the HTTP endpoint.\nA script will support the following set of callback functions."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Script Http Handler Exit methods"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Purpose"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"urlProps(req)"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Used for adding query params to a configured URL. The req object is implemented by ",(0,r.kt)("inlineCode",{parentName:"td"},"psdi.iface.router. ScriptHTTPReq"),". Use the ",(0,r.kt)("inlineCode",{parentName:"td"},"req.addUrlProp(propname,propvalue)")," API to set the URL query parameters.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"getUrl(req)"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Used for setting the URL for HTTP call. Use the ",(0,r.kt)("inlineCode",{parentName:"td"},"req.setUrl(url)")," API to set the new URL.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"headerProps(req)"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Used for setting request headers for the HTTP call. Use the ",(0,r.kt)("inlineCode",{parentName:"td"},"req.addHeader(propname,propvalue)")," API to set the HTTP request headers.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"processResponse(resp)"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Used for processing HTTP response. The resp object is implemented by ",(0,r.kt)("inlineCode",{parentName:"td"},"psdi.iface.router.ScriptHTTPResp"),". Use the ‘resp.setError(java.util.Exception)’ API to mark the response for Error and the Error message. You can use the resp.getData() to get the response data and analyze that in the script.")))),(0,r.kt)("h3",null,"ScriptHTTPReq details"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"ScriptHTTPReq methods"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Purpose"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"getData()"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Used to get byte[] data that has been passed to the endpoint.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"getSData()"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Used to get String data that has been passed to the endpoint.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"getMetaData()"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Used for getting the metadata ",(0,r.kt)("inlineCode",{parentName:"td"},"java.util.Map")," object that was passed in to the endpoint. This contains some of the jms/kafka message headers.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"getEndPointName())"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Used for getting the endpoint name (string).")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"setURL(String url)"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Sets the URL to be called. This overrides the URL, if that is set in the endpoint configuration")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"getURL()"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Returns the URL (string) to be invoked.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"addHeader(String name, String value)"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Adds an HTTP header/value pair to the request.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"getHeaderProps()"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Gets the HTTP header/value ",(0,r.kt)("inlineCode",{parentName:"td"},"java.util.Map")," for the request.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"addUrlProp(String name, String value)"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Adds an HTTP URL query param/value pair to the request.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"getUrlProps()"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Gets the HTTP query param/value ",(0,r.kt)("inlineCode",{parentName:"td"},"java.util.Map")," for the request.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"addFormProp(String name, String value)"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Adds an HTTP form param/value pair to the request.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"getFormProps()"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Gets the HTTP form param/value ",(0,r.kt)("inlineCode",{parentName:"td"},"java.util.Map")," for the request.")))),(0,r.kt)("h3",null,"ScriptHTTPResp details"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"ScriptHTTPResp methods"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Purpose"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"getData()"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Gets byte[] data response.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"getMetaData()"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Gets the metadata ",(0,r.kt)("inlineCode",{parentName:"td"},"java.util.Map")," object that was passed in to the endpoint. This contains some of the jms/kafka message headers.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"getEndPointName()"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Gets the endpoint name (string).")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"geResponseMsg()"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Returns the response status message from the HTTP call")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"getResponseCode()"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Returns the HTTP response code.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"setError(Exception e)"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Sets the error ( ",(0,r.kt)("inlineCode",{parentName:"td"},"java.lang.Exception instance"),") by analyzing the HTTP response.")))),(0,r.kt)("p",null,"One common use case that we face from customers being needing to do a custom authentication before invoking the target URL.\nOne way to do that would be to attempt that authentication call in the ",(0,r.kt)("inlineCode",{parentName:"p"},"headerProps(req)")," call back as that will provide the\nscript oppertunity to set that custom authentication header (say was fetched from the authentication call) to the request. A\nsample code is shown below. Note that the script would invoke the token api to set the generated token to the request header of the request for the target url."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},'from psdi.iface.mic import MicUtil\n\ndef headerProps(req):\n\n    authTokenUri = "http://sometokenurl/token"\n    apikey = MicUtil.getProperty("mxe.customservice.apikey")\n    headers = "apikey:"+apikey\n    tokenJson = req.httpgetasjson(authTokenUri,None,headers,None)\n    token = tokenJson.get("authtoken")\n    req.addHeader("authtoken",token)\n')),(0,r.kt)("h2",null,"Web service handler exit"),(0,r.kt)("p",null,"Similar to HTTP Handler, Web Service handler also provides an exit that can be leveraged to intercept and modify the SOAP request and response.\nThe WSEXIT property of the handler endpoint can be set to a value like script:{script name} to register a scripted exit for the web service endpoint.\nThe following callback functions are supported by a script."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Script web service handler exit methods"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Purpose"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"responseOk(resp)"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Analyzes a good response from the external web service. The resp object is implemented by the ",(0,r.kt)("inlineCode",{parentName:"td"},"psdi.iface.router.ScriptSOAPResp")," object. This can be leveraged to either do some processing with the response or set an error.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"responseError(resp)"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Analyzes and takes action, if needed, for an error response from the external web service. The resp object is implemented by the ",(0,r.kt)("inlineCode",{parentName:"td"},"psdi.iface.router.ScriptSOAPResp")," object.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"setupHeaders(req)"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Uses request soap headers for the soap call. The req object is implemented by the ",(0,r.kt)("inlineCode",{parentName:"td"},"psdi.iface.router.ScriptSOAPReq")," object.")))),(0,r.kt)("h3",null,"ScriptSOAPReq details"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"ScriptSOAPReq methods"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Purpose"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"getData()"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Gets byte[] data that has been passed to the endpoint.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"getMetaData()"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Gets the metadata ",(0,r.kt)("inlineCode",{parentName:"td"},"java.util.Map")," object that was passed in to the endpoint. This contains some of the jms/kafka message headers.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"getEndPointName())"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Gets the endpoint name (string).")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"setURL(String url)"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Sets the URL to be called. This override the URL if that is set in the endpoint configuration")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"getURL()"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Returns the URL (string) to be invoked.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"addHeader(String ns, String name, String value)"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Adds soap header/value pair to the request. ",(0,r.kt)("inlineCode",{parentName:"td"},"ns")," specifies the namespace for the header element. The following example shows the usage.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"getHeaderProps()"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Gets the soap header/value ",(0,r.kt)("inlineCode",{parentName:"td"},"Map<QName,List<String>>")," for the request.")))),(0,r.kt)("h3",null,"ScriptSOAPResp details"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"ScriptSOAPResp methods"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Purpose"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"getData()"),(0,r.kt)("td",{parentName:"tr",align:"left"},"UGets byte[] data response.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"getMetaData()"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Gets the metadata ",(0,r.kt)("inlineCode",{parentName:"td"},"java.util.Map")," object that was passed in to the endpoint. This contains some of the jms/kafka message headers.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"getEndPointName)"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Gets the endpoint name (string).")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"setError(Exception e)"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Sets the error ( ",(0,r.kt)("inlineCode",{parentName:"td"},"java.lang.Exception instance"),") by analyzing the soap response.")))),(0,r.kt)("p",null,"The following sample code shows how a WS Security header can be set using the setupHeaders."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},'from org.jdom import Element\nfrom org.jdom import Namespace\n\nfrom java.util import HashMap\nfrom java.util import ArrayList\nfrom psdi.iface.util import XMLUtils\nfrom javax.xml.namespace import QName\n\ndef setupHeaders(req):\n\n    ns = "http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd"\n\n    secQName = QName(ns, "Security")\n    sec = Element("Security",ns)\n\n    wsu = Namespace.getNamespace("wsu","http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd")\n    sec.addNamespaceDeclaration(wsu)\n    unt = Element("UsernameToken", ns)\n    sec.addContent(unt)\n    unt.setAttribute("Id", "UsernameToken-61F4CA1CC16641CEA914170628622665", wsu)\n    un = Element("Username", ns)\n    un.setText("testusermaximo")\n    unt.addContent(un)\n            \n    pwd = Element("Password", ns)\n    unt.addContent(pwd)\n    pwd.setAttribute("Type","http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText")\n    pwd.setText("WinterTime15")\n\n    headerVal = XMLUtils.convertElementToString(sec)\n    req.addHeader(ns, "Security", headerVal)\n')),(0,r.kt)("h2",null,"JMS Handler Exit"),(0,r.kt)("p",null,"Customers often need to write an outbound integration message to an external queue. They can leverage the JMSHandler for this purpose.\nCustomers can create an endpoint for this. The endpoint allows an exit to customize the JMS message properties as well as process the response, whether it is success or error.\nLike other endpoint exits, this is an interface type script. "),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Script JMS handler exit methods"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Purpose"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"msgProps(req)"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Allows developers to set JMS message properties. The ",(0,r.kt)("inlineCode",{parentName:"td"},"req")," object is of type ",(0,r.kt)("inlineCode",{parentName:"td"},"psdi.iface.router.ScriptJMSReq"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"responseError(resp)"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Allows developers to process error response from the external JMS provider. The ",(0,r.kt)("inlineCode",{parentName:"td"},"resp")," object is implemented by the ",(0,r.kt)("inlineCode",{parentName:"td"},"psdi.iface.router.ScriptJMSResp")," object.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"responseOk(resp)"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Allows developers to process success response from JMS provider. The ",(0,r.kt)("inlineCode",{parentName:"td"},"resp")," object is implemented by the ",(0,r.kt)("inlineCode",{parentName:"td"},"psdi.iface.router.ScriptJMSResp")," object.")))),(0,r.kt)("h3",null,"ScriptJMSReq details"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"ScriptJMSReq methods"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Purpose"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"getData()"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Gets byte[] data that has been passed to the endpoint.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"getMetaData()"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Gets the metadata ",(0,r.kt)("inlineCode",{parentName:"td"},"java.util.Map")," object that was passed in to the endpoint. This contains some of the jms/kafka message headers.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"getEndPointName())"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Gets the endpoint name (string).")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"setURL(String url)"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Sets the URL to be called. This override the URL if that is set in the endpoint configuration")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"getURL()"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Returns the URL (string) to be invoked.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"addProperty(String prop, String value)"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Adds jms message property/value pair to the request.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"getMessageProperties()"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Gets the jms message property/value ",(0,r.kt)("inlineCode",{parentName:"td"},"Map<String,String>")," for the request.")))),(0,r.kt)("h3",null,"ScriptJMSResp details"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"ScriptJMSResp methods"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Purpose"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"getData()"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Gets byte[] data that has been passed to the endpoint.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"getMetaData()"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Gets the metadata ",(0,r.kt)("inlineCode",{parentName:"td"},"java.util.Map")," object that was passed in to the endpoint. This contains some of the jms/kafka message headers.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"getEndPointName())"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Gets the endpoint name (string).")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"getError()"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Gets the error ( ",(0,r.kt)("inlineCode",{parentName:"td"},"java.lang.Exception instance"),") form jms response.")))),(0,r.kt)("p",null,"The following sample script demonstrates this."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},'def msgProps(ctx):\n  ctx.addProperty("maxendpoint",ctx.getEndPointName())\n')))}d.isMDXComponent=!0},4295:function(e,t,a){a.d(t,{Z:function(){return T}});var n=a(7294),r=a(8650),s=a.n(r),i=a(5444),o=a(6949),l=a(3293),p=a(5900),d=a.n(p),m=function(e){var t,a=e.title,r=e.theme,s=e.tabs,i=void 0===s?[]:s;return n.createElement("div",{className:d()("PageHeader-module--page-header--NqfPe",(t={},t["PageHeader-module--with-tabs--vbQ-W"]=i.length,t["PageHeader-module--dark-mode--WCeH8"]="dark"===r,t))},n.createElement("div",{className:"bx--grid"},n.createElement("div",{className:"bx--row"},n.createElement("div",{className:"bx--col-lg-12"},n.createElement("h1",{id:"page-title",className:"PageHeader-module--text--Er2EO"},a)))))},h=function(e){var t=e.relativePagePath,a=e.repository,r=(0,i.useStaticQuery)("1364590287").site.siteMetadata.repository,s=a||r,o=s.baseUrl,l=s.subDirectory,p=o+"/edit/"+s.branch+l+"/src/pages"+t;return o?n.createElement("div",{className:"bx--row EditLink-module--row--BEmSX"},n.createElement("div",{className:"bx--col"},n.createElement("a",{className:"EditLink-module--link--IDrl1",href:p},"Edit this page on GitHub"))):null},c=a(4275),k=a(1721),g=function(e){function t(){return e.apply(this,arguments)||this}return(0,k.Z)(t,e),t.prototype.render=function(){var e=this.props,t=e.title,a=e.tabs,r=e.slug,o=r.split("/").filter(Boolean).slice(-1)[0],l=a.map((function(e){var t,a=s()(e,{lower:!0,strict:!0}),l=a===o,p=new RegExp(o+"/?(#.*)?$"),m=r.replace(p,a);return n.createElement("li",{key:e,className:d()((t={},t["PageTabs-module--selected-item--aBB0K"]=l,t),"PageTabs-module--list-item--024o6")},n.createElement(i.Link,{className:"PageTabs-module--link--Kz-7R",to:""+m},e))}));return n.createElement("div",{className:"PageTabs-module--tabs-container--Cdfzw"},n.createElement("div",{className:"bx--grid"},n.createElement("div",{className:"bx--row"},n.createElement("div",{className:"bx--col-lg-12 bx--col-no-gutter"},n.createElement("nav",{"aria-label":t},n.createElement("ul",{className:"PageTabs-module--list--xLqxG"},l))))))},t}(n.Component),u=g,N=a(2881),f=a(6958),b=a(36),y=function(e){var t=e.date,a=new Date(t);return t?n.createElement(b.X2,{className:"last-modified-date-module--row--XJoYQ"},n.createElement(b.sg,null,n.createElement("div",{className:"last-modified-date-module--text--ogPQF"},"Page last updated: ",a.toLocaleDateString("en-GB",{day:"2-digit",year:"numeric",month:"long"})))):null},T=function(e){var t=e.pageContext,a=e.children,r=e.location,p=e.Title,d=t.frontmatter,k=void 0===d?{}:d,g=t.relativePagePath,b=t.titleType,T=k.tabs,v=k.title,w=k.theme,S=k.description,P=k.keywords,E=k.date,x=(0,f.Z)().interiorTheme,C=(0,i.useStaticQuery)("2456312558").site.pathPrefix,M=C?r.pathname.replace(C,""):r.pathname,H=T?M.split("/").filter(Boolean).slice(-1)[0]||s()(T[0],{lower:!0}):"",U=w||x;return n.createElement(l.Z,{tabs:T,homepage:!1,theme:U,pageTitle:v,pageDescription:S,pageKeywords:P,titleType:b},n.createElement(m,{title:p?n.createElement(p,null):v,label:"label",tabs:T,theme:U}),T&&n.createElement(u,{title:v,slug:M,tabs:T,currentTab:H}),n.createElement(N.Z,{padded:!0},a,n.createElement(h,{relativePagePath:g}),n.createElement(y,{date:E})),n.createElement(c.Z,{pageContext:t,location:r,slug:M,tabs:T,currentTab:H}),n.createElement(o.Z,null))}}}]);
//# sourceMappingURL=component---src-pages-integration-endpointhandler-mdx-a55a8ad2ffc6f3fd1148.js.map