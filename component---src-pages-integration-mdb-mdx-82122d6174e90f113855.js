"use strict";(self.webpackChunkmas_playbook=self.webpackChunkmas_playbook||[]).push([[2439],{3669:function(e,t,a){a.r(t),a.d(t,{_frontmatter:function(){return i},default:function(){return c}});var n=a(3366),r=(a(7294),a(4983)),s=a(4295),l=["components"],i={},o={_frontmatter:i},m=s.Z;function c(e){var t=e.components,a=(0,n.Z)(e,l);return(0,r.kt)(m,Object.assign({},o,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Customers often need to add new Message Driven Beans for consuming messages from an external JMS server.\nStarting 7613/8.8 Maximo scripted MDBs. "),(0,r.kt)("p",null,"Steps for setting up MDB with scripting:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"create a vanilla py script (say named as CUSTMDB) like below")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},'service.log("msg received with id "+str(jmsmsg.getJMSMessageID()))\n')),(0,r.kt)("p",null,"Note that ",(0,r.kt)("inlineCode",{parentName:"p"},"jmsmsg")," refers to the ",(0,r.kt)("inlineCode",{parentName:"p"},"javax.jms.Message")," object representing the message from the JMS queue."),(0,r.kt)("ol",{start:2},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Assume that we are going to consume message from an external continouls queue named extcqin. So we will use external system EXTSYS1 to import a file - like say an asset with the content")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"modify the mboejb ejb jar xml to add a script MDB using the ejb-jar.xml file. This will connect the script to the MDB"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'    <message-driven id="MessageDriven_JMSContQueueProcessor_3">\n      <ejb-name>JMSScriptListenerBean-1</ejb-name>\n      <ejb-class>psdi.iface.jms.JMSScriptListenerBean</ejb-class>\n      <transaction-type>Container</transaction-type>\n      <message-destination-type>javax.jms.Queue</message-destination-type>\n                  <env-entry>\n            <env-entry-name>SCRIPTNAME</env-entry-name>\n            <env-entry-type>java.lang.String</env-entry-type>\n            <env-entry-value>CUSTMDB</env-entry-value>\n              </env-entry>      \n    </message-driven>\n')),(0,r.kt)("p",null,"Note the ejb class ",(0,r.kt)("inlineCode",{parentName:"p"},"psdi.iface.jms.JMSScriptListenerBean")," and the env entry ",(0,r.kt)("inlineCode",{parentName:"p"},"SCRIPTNAME")," that has the name of the script.\nA script on an object structure such as MXITEM, can impact the processing of item data through REST, application Import, Enterprise Service and Invocation/Publish Channel."),(0,r.kt)("ol",{start:4},(0,r.kt)("li",{parentName:"ol"},"deploy the customization. ")),(0,r.kt)("p",null,"Assuming that the activation spec and queue setup are all done, we should be able to see the log statement appear as we start pushing messages into the queue."))}c.isMDXComponent=!0},4295:function(e,t,a){a.d(t,{Z:function(){return y}});var n=a(7294),r=a(8650),s=a.n(r),l=a(5444),i=a(6949),o=a(3293),m=a(5900),c=a.n(m),p=function(e){var t,a=e.title,r=e.theme,s=e.tabs,l=void 0===s?[]:s;return n.createElement("div",{className:c()("PageHeader-module--page-header--NqfPe",(t={},t["PageHeader-module--with-tabs--vbQ-W"]=l.length,t["PageHeader-module--dark-mode--WCeH8"]="dark"===r,t))},n.createElement("div",{className:"bx--grid"},n.createElement("div",{className:"bx--row"},n.createElement("div",{className:"bx--col-lg-12"},n.createElement("h1",{id:"page-title",className:"PageHeader-module--text--Er2EO"},a)))))},u=function(e){var t=e.relativePagePath,a=e.repository,r=(0,l.useStaticQuery)("1364590287").site.siteMetadata.repository,s=a||r,i=s.baseUrl,o=s.subDirectory,m=i+"/edit/"+s.branch+o+"/src/pages"+t;return i?n.createElement("div",{className:"bx--row EditLink-module--row--BEmSX"},n.createElement("div",{className:"bx--col"},n.createElement("a",{className:"EditLink-module--link--IDrl1",href:m},"Edit this page on GitHub"))):null},d=a(4275),g=a(1721),h=function(e){function t(){return e.apply(this,arguments)||this}return(0,g.Z)(t,e),t.prototype.render=function(){var e=this.props,t=e.title,a=e.tabs,r=e.slug,i=r.split("/").filter(Boolean).slice(-1)[0],o=a.map((function(e){var t,a=s()(e,{lower:!0,strict:!0}),o=a===i,m=new RegExp(i+"/?(#.*)?$"),p=r.replace(m,a);return n.createElement("li",{key:e,className:c()((t={},t["PageTabs-module--selected-item--aBB0K"]=o,t),"PageTabs-module--list-item--024o6")},n.createElement(l.Link,{className:"PageTabs-module--link--Kz-7R",to:""+p},e))}));return n.createElement("div",{className:"PageTabs-module--tabs-container--Cdfzw"},n.createElement("div",{className:"bx--grid"},n.createElement("div",{className:"bx--row"},n.createElement("div",{className:"bx--col-lg-12 bx--col-no-gutter"},n.createElement("nav",{"aria-label":t},n.createElement("ul",{className:"PageTabs-module--list--xLqxG"},o))))))},t}(n.Component),b=h,v=a(2881),f=a(6958),E=a(36),k=function(e){var t=e.date,a=new Date(t);return t?n.createElement(E.X2,{className:"last-modified-date-module--row--XJoYQ"},n.createElement(E.sg,null,n.createElement("div",{className:"last-modified-date-module--text--ogPQF"},"Page last updated: ",a.toLocaleDateString("en-GB",{day:"2-digit",year:"numeric",month:"long"})))):null},y=function(e){var t=e.pageContext,a=e.children,r=e.location,m=e.Title,c=t.frontmatter,g=void 0===c?{}:c,h=t.relativePagePath,E=t.titleType,y=g.tabs,N=g.title,x=g.theme,w=g.description,S=g.keywords,M=g.date,P=(0,f.Z)().interiorTheme,j=(0,l.useStaticQuery)("2456312558").site.pathPrefix,T=j?r.pathname.replace(j,""):r.pathname,C=y?T.split("/").filter(Boolean).slice(-1)[0]||s()(y[0],{lower:!0}):"",B=x||P;return n.createElement(o.Z,{tabs:y,homepage:!1,theme:B,pageTitle:N,pageDescription:w,pageKeywords:S,titleType:E},n.createElement(p,{title:m?n.createElement(m,null):N,label:"label",tabs:y,theme:B}),y&&n.createElement(b,{title:N,slug:T,tabs:y,currentTab:C}),n.createElement(v.Z,{padded:!0},a,n.createElement(u,{relativePagePath:h}),n.createElement(k,{date:M})),n.createElement(d.Z,{pageContext:t,location:r,slug:T,tabs:y,currentTab:C}),n.createElement(i.Z,null))}}}]);
//# sourceMappingURL=component---src-pages-integration-mdb-mdx-82122d6174e90f113855.js.map